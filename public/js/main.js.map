{"version":3,"file":"main.js","sources":["../../node_modules/redom/dist/redom.es.js","../../js/dispatch.js","../../js/hello.js","../../js/whiteboard.js","../../js/app.js","../../node_modules/@redom/store/dist/redom-store.es.js","../../js/api.js","../../js/index.js"],"sourcesContent":["var HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nvar TAGNAME = 0;\nvar ID = 1;\nvar CLASSNAME = 2;\n\nvar parseQuery = function (query) {\n  var tag = null;\n  var id = null;\n  var className = null;\n  var mode = TAGNAME;\n  var buffer = '';\n\n  for (var i = 0; i <= query.length; i++) {\n    var char = query.charCodeAt(i);\n    var isHash = char === HASH;\n    var isDot = char === DOT;\n    var isEnd = !char;\n\n    if (isHash || isDot || isEnd) {\n      if (mode === TAGNAME) {\n        if (i === 0) {\n          tag = 'div';\n        } else {\n          tag = buffer;\n        }\n      } else if (mode === ID) {\n        id = buffer;\n      } else {\n        if (className) {\n          className += ' ' + buffer;\n        } else {\n          className = buffer;\n        }\n      }\n\n      if (isHash) {\n        mode = ID;\n      } else if (isDot) {\n        mode = CLASSNAME;\n      }\n\n      buffer = '';\n    } else {\n      buffer += query[i];\n    }\n  }\n\n  return { tag: tag, id: id, className: className };\n};\n\nvar createElement = function (query, ns) {\n  var ref = parseQuery(query);\n  var tag = ref.tag;\n  var id = ref.id;\n  var className = ref.className;\n  var element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n  if (id) {\n    element.id = id;\n  }\n\n  if (className) {\n    if (ns) {\n      element.setAttribute('class', className);\n    } else {\n      element.className = className;\n    }\n  }\n\n  return element;\n};\n\nvar unmount = function (parent, child) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (childEl.parentNode) {\n    doUnmount(child, childEl, parentEl);\n\n    parentEl.removeChild(childEl);\n  }\n\n  return child;\n};\n\nvar doUnmount = function (child, childEl, parentEl) {\n  var hooks = childEl.__redom_lifecycle;\n\n  if (!hooks) {\n    childEl.__redom_mounted = false;\n    return;\n  }\n\n  var traverse = parentEl;\n\n  if (childEl.__redom_mounted) {\n    trigger(childEl, 'onunmount');\n  }\n\n  while (traverse) {\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n    var hooksFound = false;\n\n    for (var hook in hooks) {\n      if (parentHooks[hook]) {\n        parentHooks[hook] -= hooks[hook];\n      }\n      if (parentHooks[hook]) {\n        hooksFound = true;\n      }\n    }\n\n    if (!hooksFound) {\n      traverse.__redom_lifecycle = null;\n    }\n\n    traverse = traverse.parentNode;\n  }\n};\n\nvar hookNames = ['onmount', 'onunmount'];\nvar shadowRootAvailable = 'ShadowRoot' in window;\n\nvar mount = function (parent, child, before) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (child !== childEl) {\n    childEl.__redom_view = child;\n  }\n\n  var wasMounted = childEl.__redom_mounted;\n  var oldParent = childEl.parentNode;\n\n  if (wasMounted && (oldParent !== parentEl)) {\n    doUnmount(child, childEl, oldParent);\n  }\n\n  if (before != null) {\n    parentEl.insertBefore(childEl, getEl(before));\n  } else {\n    parentEl.appendChild(childEl);\n  }\n\n  doMount(child, childEl, parentEl, oldParent);\n\n  return child;\n};\n\nvar doMount = function (child, childEl, parentEl, oldParent) {\n  var hooks = childEl.__redom_lifecycle || (childEl.__redom_lifecycle = {});\n  var remount = (parentEl === oldParent);\n  var hooksFound = false;\n\n  for (var i = 0; i < hookNames.length; i++) {\n    var hookName = hookNames[i];\n\n    if (!remount && (child !== childEl) && (hookName in child)) {\n      hooks[hookName] = (hooks[hookName] || 0) + 1;\n    }\n    if (hooks[hookName]) {\n      hooksFound = true;\n    }\n  }\n\n  if (!hooksFound) {\n    childEl.__redom_mounted = true;\n    return;\n  }\n\n  var traverse = parentEl;\n  var triggered = false;\n\n  if (remount || (!triggered && (traverse && traverse.__redom_mounted))) {\n    trigger(childEl, remount ? 'onremount' : 'onmount');\n    triggered = true;\n  }\n\n  if (remount) {\n    return;\n  }\n\n  while (traverse) {\n    var parent = traverse.parentNode;\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n\n    for (var hook in hooks) {\n      parentHooks[hook] = (parentHooks[hook] || 0) + hooks[hook];\n    }\n\n    if (!triggered && (traverse === document || (shadowRootAvailable && (traverse instanceof window.ShadowRoot)) || (parent && parent.__redom_mounted))) {\n      trigger(traverse, remount ? 'onremount' : 'onmount');\n      triggered = true;\n    }\n\n    traverse = parent;\n  }\n};\n\nvar trigger = function (el, eventName) {\n  if (eventName === 'onmount') {\n    el.__redom_mounted = true;\n  } else if (eventName === 'onunmount') {\n    el.__redom_mounted = false;\n  }\n\n  var hooks = el.__redom_lifecycle;\n\n  if (!hooks) {\n    return;\n  }\n\n  var view = el.__redom_view;\n  var hookCount = 0;\n\n  view && view[eventName] && view[eventName]();\n\n  for (var hook in hooks) {\n    if (hook) {\n      hookCount++;\n    }\n  }\n\n  if (hookCount) {\n    var traverse = el.firstChild;\n\n    while (traverse) {\n      var next = traverse.nextSibling;\n\n      trigger(traverse, eventName);\n\n      traverse = next;\n    }\n  }\n};\n\nvar setStyle = function (view, arg1, arg2) {\n  var el = getEl(view);\n\n  if (arg2 !== undefined) {\n    el.style[arg1] = arg2;\n  } else if (isString(arg1)) {\n    el.setAttribute('style', arg1);\n  } else {\n    for (var key in arg1) {\n      setStyle(el, key, arg1[key]);\n    }\n  }\n};\n\n/* global SVGElement */\n\nvar xlinkns = 'http://www.w3.org/1999/xlink';\n\nvar setAttr = function (view, arg1, arg2) {\n  var el = getEl(view);\n  var isSVG = el instanceof SVGElement;\n\n  if (arg2 !== undefined) {\n    if (arg1 === 'style') {\n      setStyle(el, arg2);\n    } else if (isSVG && isFunction(arg2)) {\n      el[arg1] = arg2;\n    } else if (!isSVG && (arg1 in el || isFunction(arg2))) {\n      el[arg1] = arg2;\n    } else {\n      if (isSVG && (arg1 === 'xlink')) {\n        setXlink(el, arg2);\n        return;\n      }\n      el.setAttribute(arg1, arg2);\n    }\n  } else {\n    for (var key in arg1) {\n      setAttr(el, key, arg1[key]);\n    }\n  }\n};\n\nfunction setXlink (el, obj) {\n  for (var key in obj) {\n    el.setAttributeNS(xlinkns, key, obj[key]);\n  }\n}\n\nvar text = function (str) { return document.createTextNode(str); };\n\nvar parseArguments = function (element, args) {\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n\n    if (arg !== 0 && !arg) {\n      continue;\n    }\n\n    // support middleware\n    if (typeof arg === 'function') {\n      arg(element);\n    } else if (isString(arg) || isNumber(arg)) {\n      element.appendChild(text(arg));\n    } else if (isNode(getEl(arg))) {\n      mount(element, arg);\n    } else if (arg.length) {\n      parseArguments(element, arg);\n    } else if (typeof arg === 'object') {\n      setAttr(element, arg);\n    }\n  }\n};\n\nvar ensureEl = function (parent) { return isString(parent) ? html(parent) : getEl(parent); };\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); };\n\nvar html = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeHTML(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n};\n\nhtml.extend = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var clone = memoizeHTML(query);\n\n  return html.bind.apply(html, [ this, clone ].concat( args ));\n};\n\nvar el = html;\nvar h = html;\n\nvar setChildren = function (parent, children) {\n  if (children.length === undefined) {\n    return setChildren(parent, [children]);\n  }\n\n  var parentEl = getEl(parent);\n  var traverse = parentEl.firstChild;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (!child) {\n      continue;\n    }\n\n    var childEl = getEl(child);\n\n    if (childEl === traverse) {\n      traverse = traverse.nextSibling;\n      continue;\n    }\n\n    mount(parent, child, traverse);\n  }\n\n  while (traverse) {\n    var next = traverse.nextSibling;\n\n    unmount(parent, traverse);\n\n    traverse = next;\n  }\n};\n\nvar propKey = function (key) { return function (item) { return item[key]; }; };\n\nvar list = function (parent, View, key, initData) {\n  return new List(parent, View, key, initData);\n};\n\nvar List = function List (parent, View, key, initData) {\n  this.__redom_list = true;\n  this.View = View;\n  this.initData = initData;\n  this.views = [];\n  this.el = ensureEl(parent);\n\n  if (key != null) {\n    this.lookup = {};\n    this.key = isFunction(key) ? key : propKey(key);\n  }\n};\nList.prototype.update = function update (data, context) {\n    var this$1 = this;\n    if ( data === void 0 ) data = [];\n\n  var View = this.View;\n  var key = this.key;\n  var keySet = key != null;\n  var initData = this.initData;\n  var newViews = new Array(data.length);\n  var oldViews = this.views;\n  var newLookup = key && {};\n  var oldLookup = key && this.lookup;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    var view = (void 0);\n\n    if (keySet) {\n      var id = key(item);\n      view = oldLookup[id] || new View(initData, item, i, data);\n      newLookup[id] = view;\n      view.__redom_id = id;\n    } else {\n      view = oldViews[i] || new View(initData, item, i, data);\n    }\n    newViews[i] = view;\n    var el = getEl(view.el);\n    el.__redom_view = view;\n    view.update && view.update(item, i, data, context);\n  }\n\n  if (keySet) {\n    for (var i$1 = 0; i$1 < oldViews.length; i$1++) {\n      var id$1 = oldViews[i$1].__redom_id;\n      if (!(id$1 in newLookup)) {\n        unmount(this$1, oldLookup[id$1]);\n      }\n    }\n  }\n\n  setChildren(this, newViews);\n\n  if (keySet) {\n    this.lookup = newLookup;\n  }\n  this.views = newViews;\n};\n\nList.extend = function (parent, View, key, initData) {\n  return List.bind(List, parent, View, key, initData);\n};\n\nlist.extend = List.extend;\n\n/* global Node */\n\nvar place = function (View, initData) {\n  return new Place(View, initData);\n};\n\nvar Place = function Place (View, initData) {\n  this.el = text('');\n  this.visible = false;\n  this.view = null;\n  this._placeholder = this.el;\n  if (View instanceof Node) {\n    this._el = View;\n  } else {\n    this._View = View;\n  }\n  this._initData = initData;\n};\nPlace.prototype.update = function update (visible, data) {\n  var placeholder = this._placeholder;\n  var parentNode = this.el.parentNode;\n\n  if (visible) {\n    if (!this.visible) {\n      if (this._el) {\n        mount(parentNode, this._el, placeholder);\n        unmount(parentNode, placeholder);\n        this.el = this._el;\n        this.visible = visible;\n        return;\n      }\n      var View = this._View;\n      var view = new View(this._initData);\n\n      this.el = getEl(view);\n      this.view = view;\n\n      mount(parentNode, view, placeholder);\n      unmount(parentNode, placeholder);\n    }\n    this.view && this.view.update && this.view.update(data);\n  } else {\n    if (this.visible) {\n      if (this._el) {\n        mount(parentNode, placeholder, this._el);\n        unmount(parentNode, this._el);\n        this.el = placeholder;\n        this.visible = visible;\n        return;\n      }\n      mount(parentNode, placeholder, this.view);\n      unmount(parentNode, this.view);\n\n      this.el = placeholder;\n      this.view = null;\n    }\n  }\n  this.visible = visible;\n};\n\nvar router = function (parent, Views, initData) {\n  return new Router(parent, Views, initData);\n};\n\nvar Router = function Router (parent, Views, initData) {\n  this.el = ensureEl(parent);\n  this.Views = Views;\n  this.initData = initData;\n};\nRouter.prototype.update = function update (route, data) {\n  if (route !== this.route) {\n    var Views = this.Views;\n    var View = Views[route];\n\n    this.view = View && new View(this.initData, data);\n    this.route = route;\n\n    setChildren(this.el, [ this.view ]);\n  }\n  this.view && this.view.update && this.view.update(data, route);\n};\n\nvar ns = 'http://www.w3.org/2000/svg';\n\nvar svgCache = {};\n\nvar memoizeSVG = function (query) { return svgCache[query] || (svgCache[query] = createElement(query, ns)); };\n\nvar svg = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeSVG(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n};\n\nsvg.extend = function (query) {\n  var clone = memoizeSVG(query);\n\n  return svg.bind(this, clone);\n};\n\nsvg.ns = ns;\n\nvar s = svg;\n\nexport { el, h, html, list, List, mount, unmount, place, Place, router, Router, setAttr, setStyle, setChildren, s, svg, text };\n","export const dispatch = (target, type, data) => {\n  const event = new window.CustomEvent('redom', {\n    bubbles: true,\n    detail: {\n      type, data\n    }\n  });\n  const el = target.el || target;\n\n  el.dispatchEvent(event);\n};\n\nexport const listen = (target, handlers) => {\n  const el = target.el || target;\n\n  const handler = e => {\n    const { type, data } = e.detail;\n\n    handlers[type] && handlers[type](data);\n  };\n\n  el.addEventListener('redom', handler);\n\n  return {\n    destroy () {\n      el.removeEventListener('redom', handler);\n    }\n  };\n};\n","import { el, text } from 'redom';\n\nexport class Hello {\n  constructor () {\n    this.el = el('h1',\n      'Hello 吞吞吐吐拖  ',\n      this.subject = text('RE:DOM反反复复付付'),\n      '!'\n    );\n  }\n  update (data) {\n    const { subject } = data;\n\n    this.subject.textContent = subject || 'RE:DOM';\n\n    this.data = data;\n  }\n}\n","import { el, text } from 'redom';\n\nexport class WhiteBoard {\n  constructor() {\n    this.el = el('canvas', { style: 'width: 400px;height:300px' });\n  }\n  onmount () {\n    console.log('mounted WhiteBoard');\n    paper.install(window);\n    var paperScope = new paper.PaperScope();\n    paperScope.setup(this.el);\n  }\n  draw() {\n    var tool = new Tool();\n    var path;\n    var layer = new Layer();\n    // Define a mousedown and mousedrag handler\n    tool.onMouseDown = function (event) {\n      //layer.visible = false;\n      console.log('mouse down');\n      path = new Path();\n      path.strokeColor = new Color({ hue: Math.random() * 360, saturation: 1, brightness: 1 });\n      path.add(event.point);\n    }\n    tool.onMouseUp = (event) => {\n    }\n\n    tool.onMouseDrag = function (event) {\n      path.add(event.point);\n    }\n    layer.addChild(path)\n  }\n  update(data) {\n    //const { subject } = data;\n\n    //this.subject.textContent = subject || 'RE:DOM';\n\n    //this.data = data;\n  }\n}\n","import { el,list } from 'redom';\nimport { dispatch } from './dispatch';\nimport { Hello } from './hello';\nimport { WhiteBoard} from './whiteboard';\n\nclass Li {\n  constructor () {\n    this.el = el('li');\n  }\n  update (data) {\n    this.el.textContent = data.name;\n  }\n}\n\n\nexport class App {\n  constructor () {\n    this.el = el('.app',\n      this.hello = new Hello(),\n      this.whiteboard = new WhiteBoard(),\n      this.beginBtn = el('button','1212', {\n        onclick: e=> this.whiteboard.draw()\n      })\n      // this.input = el('input', {\n      //   autofocus: true,\n      //   oninput: e => dispatch(this, 'hello', this.input.value),\n      //   placeholder: 'RE:DOM'\n      // })\n    );\n    //this.data = {};\n  }\n  update (data) {\n    const { hello } = data;\n\n    this.hello.update(hello);\n\n    //this.data = data;\n  }\n}\n","var Store=function a(){this.data={}};Store.prototype.get=function b(a){if(!a){return this.data}var c=a.split('.'),d=this.data;for(var e=0;e<c.length;e++){var f=c[e];if(f in d)d=d[f];else{return}}return d};Store.prototype.set=function c(a,b){var d=a.split('.'),e=this.data=Object.assign({},this.data);for(var f=0;f<d.length;f++){var g=d[f];f===d.length-1?(e[g]=b):(e=e[g]=Object.assign({},e[g]))}};export default Store\n//# sourceMappingURL=redom-store.es.js.map\n","import { listen } from './dispatch';\nimport Store from '@redom/store';\n\nexport const api = (app) => {\n  const store = new Store();\n  let updating;\n\n  // Application logic:\n  listen(app, {\n    hello (subject) {\n      set('hello.subject', subject);\n    }\n  });\n\n  const set = (path, value) => {\n    store.set(path, value);\n    updating || (updating = window.requestAnimationFrame(() => {\n      updating = false;\n\n      app.update(store.get());\n    }));\n  };\n};\n","import { mount } from 'redom';\nimport { App } from './app';\nimport { api } from './api';\n\nconst app = new App();\n\napi(app);\n\nmount(document.body, app);\n"],"names":["HASH","DOT","TAGNAME","ID","CLASSNAME","parseQuery","query","tag","id","className","mode","buffer","i","char","isHash","isDot","isEnd","createElement","ns","ref","element","doUnmount","child","childEl","parentEl","hooks","traverse","trigger","parentHooks","hooksFound","hook","hookNames","shadowRootAvailable","mount","parent","before","getEl","wasMounted","oldParent","doMount","remount","hookName","triggered","el","eventName","view","hookCount","next","setStyle","arg1","arg2","isString","key","xlinkns","setAttr","isSVG","isFunction","setXlink","obj","text","str","parseArguments","args","arg","isNumber","isNode","a","htmlCache","memoizeHTML","html","len","arguments","clone","listen","target","handlers","const","handler","e","type","data","Hello","subject","WhiteBoard","paperScope","tool","path","layer","event","App","this","hello","Store","b","c","d","f","g","api","app","store","updating","set","value"],"mappings":"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"}